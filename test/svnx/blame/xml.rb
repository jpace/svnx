#!/usr/bin/ruby -w
# -*- ruby -*-

require 'nokogiri'

module Svnx::Blame
  class XML
    LINES = Array.new.tap do |a|
      a << '<?xml version="1.0" encoding="UTF-8"?>'
      a << '<blame>'
      a << '  <target'
      a << '      path="p1/p2/n3.txt">'
      a << '    <entry'
      a << '	line-number="1">'
      a << '      <commit'
      a << '	  revision="92482">'
      a << '	<author>a5</author>'
      a << '	<date>2010-10-05T20:12:09.647500Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="2">'
      a << '      <commit'
      a << '	  revision="92482">'
      a << '	<author>a5</author>'
      a << '	<date>2010-10-05T20:12:09.647500Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="3">'
      a << '      <commit'
      a << '	  revision="769">'
      a << '	<author>a1</author>'
      a << '	<date>2007-10-15T14:02:12.000000Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="4">'
      a << '      <commit'
      a << '	  revision="769">'
      a << '	<author>a1</author>'
      a << '	<date>2007-10-15T14:02:12.000000Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="5">'
      a << '      <commit'
      a << '	  revision="769">'
      a << '	<author>a1</author>'
      a << '	<date>2007-10-15T14:02:12.000000Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="6">'
      a << '      <commit'
      a << '	  revision="6297">'
      a << '	<author>a3</author>'
      a << '	<date>2009-05-18T18:58:32.000000Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="7">'
      a << '      <commit'
      a << '	  revision="769">'
      a << '	<author>a1</author>'
      a << '	<date>2007-10-15T14:02:12.000000Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="8">'
      a << '      <commit'
      a << '	  revision="769">'
      a << '	<author>a1</author>'
      a << '	<date>2007-10-15T14:02:12.000000Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="9">'
      a << '      <commit'
      a << '	  revision="47062">'
      a << '	<author>a4</author>'
      a << '	<date>2009-10-28T20:49:07.098743Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="10">'
      a << '      <commit'
      a << '	  revision="158243">'
      a << '	<author>a1</author>'
      a << '	<date>2011-10-25T13:50:25.527345Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="11">'
      a << '      <commit'
      a << '	  revision="47062">'
      a << '	<author>a4</author>'
      a << '	<date>2009-10-28T20:49:07.098743Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="12">'
      a << '      <commit'
      a << '	  revision="769">'
      a << '	<author>a1</author>'
      a << '	<date>2007-10-15T14:02:12.000000Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="13">'
      a << '      <commit'
      a << '	  revision="769">'
      a << '	<author>a1</author>'
      a << '	<date>2007-10-15T14:02:12.000000Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="14">'
      a << '      <commit'
      a << '	  revision="769">'
      a << '	<author>a1</author>'
      a << '	<date>2007-10-15T14:02:12.000000Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="15">'
      a << '      <commit'
      a << '	  revision="6297">'
      a << '	<author>a3</author>'
      a << '	<date>2009-05-18T18:58:32.000000Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="16">'
      a << '      <commit'
      a << '	  revision="769">'
      a << '	<author>a1</author>'
      a << '	<date>2007-10-15T14:02:12.000000Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="17">'
      a << '      <commit'
      a << '	  revision="769">'
      a << '	<author>a1</author>'
      a << '	<date>2007-10-15T14:02:12.000000Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="18">'
      a << '      <commit'
      a << '	  revision="769">'
      a << '	<author>a1</author>'
      a << '	<date>2007-10-15T14:02:12.000000Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="19">'
      a << '      <commit'
      a << '	  revision="1306574">'
      a << '	<author>a2</author>'
      a << '	<date>2014-11-27T12:08:18.177350Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="20">'
      a << '      <commit'
      a << '	  revision="1306574">'
      a << '	<author>a2</author>'
      a << '	<date>2014-11-27T12:08:18.177350Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="21">'
      a << '      <commit'
      a << '	  revision="1306574">'
      a << '	<author>a2</author>'
      a << '	<date>2014-11-27T12:08:18.177350Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="22">'
      a << '      <commit'
      a << '	  revision="1306574">'
      a << '	<author>a2</author>'
      a << '	<date>2014-11-27T12:08:18.177350Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="23">'
      a << '      <commit'
      a << '	  revision="1306574">'
      a << '	<author>a2</author>'
      a << '	<date>2014-11-27T12:08:18.177350Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="24">'
      a << '      <commit'
      a << '	  revision="1306574">'
      a << '	<author>a2</author>'
      a << '	<date>2014-11-27T12:08:18.177350Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="25">'
      a << '      <commit'
      a << '	  revision="1306574">'
      a << '	<author>a2</author>'
      a << '	<date>2014-11-27T12:08:18.177350Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="26">'
      a << '      <commit'
      a << '	  revision="1306574">'
      a << '	<author>a2</author>'
      a << '	<date>2014-11-27T12:08:18.177350Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="27">'
      a << '      <commit'
      a << '	  revision="1306574">'
      a << '	<author>a2</author>'
      a << '	<date>2014-11-27T12:08:18.177350Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="28">'
      a << '      <commit'
      a << '	  revision="1306574">'
      a << '	<author>a2</author>'
      a << '	<date>2014-11-27T12:08:18.177350Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="29">'
      a << '      <commit'
      a << '	  revision="1306574">'
      a << '	<author>a2</author>'
      a << '	<date>2014-11-27T12:08:18.177350Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="30">'
      a << '      <commit'
      a << '	  revision="1306574">'
      a << '	<author>a2</author>'
      a << '	<date>2014-11-27T12:08:18.177350Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '    <entry'
      a << '	line-number="31">'
      a << '      <commit'
      a << '	  revision="1306574">'
      a << '	<author>a2</author>'
      a << '	<date>2014-11-27T12:08:18.177350Z</date>'
      a << '      </commit>'
      a << '    </entry>'
      a << '  </target>'
      a << '</blame>'
    end

    nk = Nokogiri::XML LINES.join('')
    ELEMENTS = nk.xpath '//blame/target/entry'
  end
end
